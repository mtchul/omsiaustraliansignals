{frame}

(L.L.TrafficLightPhase) s0

	(L.$.PedButtonDirection) "" $=
	{if}
		"pedbuttonarrow_both.png" (S.$.t_pedbutton)
		0 (S.L.pbs_pedbuttonvisible)
	{else}
		"pb" (L.$.PedButtonDirection) ".png" $+ $+ (S.$.t_pedbutton)

		1 (S.L.pbs_pedbuttonvisible) 
	{endif}

    (L.$.ConcBase) "1" $=
        {if}
            1 (S.L.pbs_concbase)
        {else}
            0 (S.L.pbs_concbase)
        {endif}

(L.$.[1]PedSound[2]LightOnly) "1" $=
    {if}
        l0 6 >= l0 8 <= &&
        {if}
            0 (S.L.pb_light)

            (L.L.pb_greentimer) (L.S.Timegap) + (S.L.pb_greentimer)
            s2 0.075 <
            {if}
                1 (S.L.pb_green_start)
                0 (S.L.pb_green_continuous)
            {else}
                l2 0.075 >
                {if}
                    0 (S.L.pb_green_start)
                    1 (S.L.pb_green_continuous)
                {endif}
            {endif}
        {else}
            0 (S.L.pb_green_start)
            0 (S.L.pb_green_continuous)
            0 (S.L.pb_greentimer)
        {endif}

        ! (S.L.pb_red) (S.L.pb_light)
    {endif}

(L.$.[1]PedSound[2]LightOnly) "2" $=
    {if}
        l0 6 >= l0 8 <= &&
        {if}
            0 (S.L.pb_light)
        {else}
            1 (S.L.pb_light)
        {endif}
    {endif}
	
(L.$.PoleColour) "" $=
    {if}
        "" (S.$.t_pole)
    {else}
        "pole_" (L.$.PoleColour) ".png" $+ $+ (S.$.t_pole)
    {endif}

(L.$.CapColour) "" $= (L.$.PoleColour) "nz" $= &&
    {if}
        "pole_black.png" (S.$.t_cap)
        {else}
            (L.$.CapColour) "" $=
                {if}
                    "cap2.bmp" (S.$.t_cap)
                {else}
                    "pole_" (L.$.CapColour) ".png" $+ $+ (S.$.t_cap)
                {endif}
    {endif}

(L.$.PedButtonSticker) "" $=
    {if}
        0 (S.L.pbs_pedbuttonsticker)
    {else}
        1 (S.L.pbs_pedbuttonsticker)
        "pbs_" (L.$.PedButtonSticker) ".png" $+ $+ (S.$.t_sticker)
    {endif}
{end}